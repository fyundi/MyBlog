@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #1a1a1a;
  --muted: #6b7280;
  --border: #e5e7eb;
  --accent: #2563eb;
  --accent-hover: #1d4ed8;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0f172a;
    --foreground: #f1f5f9;
    --muted: #94a3b8;
    --border: #334155;
    --accent: #3b82f6;
    --accent-hover: #60a5fa;
  }
}

* {
  @apply border-border;
}

body {
  @apply bg-background text-foreground;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.7;
  font-size: 16px;
}

/* Markdown 内容样式 */
.markdown-wrapper {
  @apply w-full;
}

.markdown-content {
  @apply w-full;
  color: inherit;
}

/* 确保文字颜色正确显示 - 使用高对比度 */
/* 亮色模式 */
.markdown-content {
  color: #1f2937 !important;
}

.markdown-content p {
  color: #374151 !important;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
  color: #111827 !important;
}

.markdown-content ul,
.markdown-content ol {
  color: #374151 !important;
}

.markdown-content li {
  color: #374151 !important;
}

/* 暗色模式 */
.dark .markdown-content {
  color: #f3f4f6 !important;
}

.dark .markdown-content p {
  color: #e5e7eb !important;
}

.dark .markdown-content h1,
.dark .markdown-content h2,
.dark .markdown-content h3,
.dark .markdown-content h4,
.dark .markdown-content h5,
.dark .markdown-content h6 {
  color: #ffffff !important;
}

.dark .markdown-content ul,
.dark .markdown-content ol {
  color: #e5e7eb !important;
}

.dark .markdown-content li {
  color: #e5e7eb !important;
}

/* 代码块样式 - 亮色和暗色模式都清晰可见 */
/* 边框由组件内联样式控制，这里只设置背景色 */
.markdown-content pre {
  background-color: #f9fafb !important; /* 亮色模式：浅灰背景 */
}

.dark .markdown-content pre {
  background-color: #111827 !important; /* 暗色模式：深色背景 */
}

.markdown-content pre code {
  background: transparent !important;
  font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;
  font-size: 0.875rem;
  line-height: 1.75;
  display: block;
  white-space: pre;
}

/* 代码块注释高亮 - 使用CSS选择器 */
.markdown-content pre code.code-block {
  color: #374151; /* 亮色模式：深灰色代码 */
}

.dark .markdown-content pre code.code-block {
  color: #e5e7eb; /* 暗色模式：浅灰色代码 */
}

/* 使用CSS来高亮注释（通过属性选择器） */
.markdown-content pre code.code-block::before {
  content: attr(data-code);
  display: none;
}

/* 行内代码样式 */
.markdown-content :not(pre) > code {
  @apply bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100;
}

/* 表格样式优化 */
.markdown-content table {
  background-color: #ffffff !important;
}

.dark .markdown-content table {
  background-color: #1f2937 !important;
}

.markdown-content table th {
  background-color: #f9fafb !important;
  color: #111827 !important;
  font-weight: 600 !important;
}

.dark .markdown-content table th {
  background-color: #374151 !important;
  color: #f9fafb !important;
}

.markdown-content table td {
  color: #374151 !important;
  background-color: #ffffff !important;
}

.dark .markdown-content table td {
  color: #e5e7eb !important;
  background-color: #1f2937 !important;
}

.markdown-content table tbody tr:hover {
  background-color: #f9fafb !important;
}

.dark .markdown-content table tbody tr:hover {
  background-color: #374151 !important;
}

/* 卡片悬停效果 */
.card-hover {
  @apply transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
}

/* 广告容器样式 */
.ad-container {
  @apply my-8 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700;
}

/* 响应式容器 */
.container-content {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* 渐变文字 */
.gradient-text {
  @apply bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}
