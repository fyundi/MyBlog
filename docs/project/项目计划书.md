# Next.js æŠ€æœ¯åšå®¢ç³»ç»Ÿè¯¦ç»†å®æ–½è®¡åˆ’ä¹¦

## é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ç›®æ ‡
æ­å»ºä¸€ä¸ªåŸºäº Next.js + TypeScript çš„å¤šåˆ†ç±»æŠ€æœ¯åšå®¢ç³»ç»Ÿï¼Œç”¨äºè®°å½•å¼€å‘ç»éªŒï¼ˆUnityã€Cocosã€æ‚è®°ç­‰ï¼‰ï¼Œæ”¯æŒè¿œç¨‹è®¿é—®ã€ä½æˆæœ¬éƒ¨ç½²ï¼Œå¹¶é¢„ç•™å¹¿å‘Šå˜ç°åŠŸèƒ½ã€‚

### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14+ (App Router)
- **è¯­è¨€**: TypeScript
- **å†…å®¹æ ¼å¼**: MDX (Markdown + React ç»„ä»¶)
- **æ ·å¼**: Tailwind CSS
- **ä»£ç é«˜äº®**: Shiki (æ¨è) æˆ– rehype-highlight
- **éƒ¨ç½²å¹³å°**: Vercel (å…è´¹) / Netlify / GitHub Pages
- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub

### æ ¸å¿ƒåŠŸèƒ½
1. âœ… å¤šåˆ†ç±»å†…å®¹ç®¡ç†ï¼ˆUnityã€Cocosã€æ‚è®°ç­‰ï¼‰
2. âœ… æ ‡ç­¾ç³»ç»Ÿ
3. âœ… æœç´¢åŠŸèƒ½
4. âœ… ä»£ç é«˜äº®
5. âœ… Markdown å¯¼å‡ºï¼ˆä¾¿äºå‘å¸ƒåˆ°å›½å†…å¹³å°ï¼‰
6. âœ… å“åº”å¼è®¾è®¡
7. âœ… SEO ä¼˜åŒ–
8. âœ… å¹¿å‘Šä½é¢„ç•™ï¼ˆGoogle AdSenseï¼‰

---

## ç¬¬ä¸€éƒ¨åˆ†ï¼šç¯å¢ƒå‡†å¤‡

### 1.1 ç³»ç»Ÿè¦æ±‚

#### å¿…éœ€è½¯ä»¶
- **Node.js**: v18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
  - ä¸‹è½½åœ°å€: https://nodejs.org/
  - éªŒè¯å‘½ä»¤: `node --version`
  - æ–‡æ¡£: https://nodejs.org/docs/

- **npm**: v9.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆéš Node.js å®‰è£…ï¼‰
  - éªŒè¯å‘½ä»¤: `npm --version`
  - æ–‡æ¡£: https://docs.npmjs.com/

- **Git**: æœ€æ–°ç‰ˆæœ¬
  - ä¸‹è½½åœ°å€: https://git-scm.com/
  - éªŒè¯å‘½ä»¤: `git --version`
  - æ–‡æ¡£: https://git-scm.com/doc

#### æ¨èå·¥å…·
- **VS Code**: ä»£ç ç¼–è¾‘å™¨
  - ä¸‹è½½åœ°å€: https://code.visualstudio.com/
  - æ¨èæ’ä»¶:
    - ESLint
    - Prettier
    - Tailwind CSS IntelliSense
    - MDX

- **GitHub è´¦å·**: ç”¨äºä»£ç æ‰˜ç®¡å’Œéƒ¨ç½²
  - æ³¨å†Œåœ°å€: https://github.com/
  - æ–‡æ¡£: https://docs.github.com/

### 1.2 ç¯å¢ƒéªŒè¯è„šæœ¬

åˆ›å»º `scripts/check-env.sh` (macOS/Linux) æˆ– `scripts/check-env.ps1` (Windows):

```bash
#!/bin/bash
echo "æ£€æŸ¥å¼€å‘ç¯å¢ƒ..."

echo -n "Node.js: "
node --version || echo "âŒ æœªå®‰è£…"

echo -n "npm: "
npm --version || echo "âŒ æœªå®‰è£…"

echo -n "Git: "
git --version || echo "âŒ æœªå®‰è£…"

echo "ç¯å¢ƒæ£€æŸ¥å®Œæˆï¼"
```

### 1.3 è´¦æˆ·å‡†å¤‡

#### GitHub è´¦æˆ·
1. æ³¨å†Œ GitHub è´¦å·: https://github.com/signup
2. åˆ›å»ºæ–°ä»“åº“ï¼ˆå¯é€‰ï¼Œåç»­è‡ªåŠ¨åˆ›å»ºï¼‰
3. ç”Ÿæˆ Personal Access Tokenï¼ˆç”¨äºéƒ¨ç½²ï¼‰
   - æ–‡æ¡£: https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token

#### Vercel è´¦æˆ·ï¼ˆéƒ¨ç½²æ—¶å‡†å¤‡ï¼‰
1. æ³¨å†Œåœ°å€: https://vercel.com/signup
2. ä½¿ç”¨ GitHub è´¦å·ç™»å½•ï¼ˆæ¨èï¼‰
3. æ–‡æ¡£: https://vercel.com/docs

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šé¡¹ç›®ç»“æ„è®¾è®¡

### 2.1 å®Œæ•´ç›®å½•ç»“æ„

```
MyBlog/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹å¸ƒå±€ï¼ˆåŒ…å«å¯¼èˆªã€å¹¿å‘Šä½ï¼‰
â”‚   â”œâ”€â”€ page.tsx                 # é¦–é¡µ
â”‚   â”œâ”€â”€ globals.css              # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ posts/                   # æ–‡ç« ç›¸å…³é¡µé¢
â”‚   â”‚   â”œâ”€â”€ page.tsx            # æ–‡ç« åˆ—è¡¨é¡µ
â”‚   â”‚   â””â”€â”€ [slug]/             # åŠ¨æ€æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚       â”œâ”€â”€ page.tsx
â”‚   â”‚       â””â”€â”€ loading.tsx     # åŠ è½½çŠ¶æ€
â”‚   â”œâ”€â”€ categories/              # åˆ†ç±»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ page.tsx            # åˆ†ç±»åˆ—è¡¨é¡µ
â”‚   â”‚   â””â”€â”€ [category]/         # åŠ¨æ€åˆ†ç±»é¡µ
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ tags/                    # æ ‡ç­¾é¡µé¢
â”‚   â”‚   â”œâ”€â”€ page.tsx            # æ ‡ç­¾åˆ—è¡¨é¡µ
â”‚   â”‚   â””â”€â”€ [tag]/              # åŠ¨æ€æ ‡ç­¾é¡µ
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ search/                  # æœç´¢é¡µé¢
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ export/                  # å¯¼å‡ºåŠŸèƒ½ï¼ˆAPI è·¯ç”±ï¼‰
â”‚       â””â”€â”€ route.ts
â”‚
â”œâ”€â”€ content/                     # åšå®¢å†…å®¹ç›®å½•
â”‚   â””â”€â”€ posts/                  # Markdown æ–‡ç« æ–‡ä»¶
â”‚       â”œâ”€â”€ unity/              # Unity åˆ†ç±»
â”‚       â”‚   â”œâ”€â”€ unity-basics.mdx
â”‚       â”‚   â””â”€â”€ unity-advanced.mdx
â”‚       â”œâ”€â”€ cocos/              # Cocos åˆ†ç±»
â”‚       â”‚   â”œâ”€â”€ cocos-basics.mdx
â”‚       â”‚   â””â”€â”€ cocos-advanced.mdx
â”‚       â””â”€â”€ notes/              # æ‚è®°åˆ†ç±»
â”‚           â””â”€â”€ personal-notes.mdx
â”‚
â”œâ”€â”€ lib/                         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ posts.ts                # æ–‡ç« è¯»å–å’Œå¤„ç†
â”‚   â”œâ”€â”€ categories.ts           # åˆ†ç±»å¤„ç†
â”‚   â”œâ”€â”€ tags.ts                 # æ ‡ç­¾å¤„ç†
â”‚   â”œâ”€â”€ export.ts               # Markdown å¯¼å‡º
â”‚   â””â”€â”€ utils.ts                # é€šç”¨å·¥å…·
â”‚
â”œâ”€â”€ components/                  # React ç»„ä»¶
â”‚   â”œâ”€â”€ layout/                 # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Header.tsx         # å¤´éƒ¨å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ Footer.tsx         # é¡µè„š
â”‚   â”‚   â””â”€â”€ Sidebar.tsx        # ä¾§è¾¹æ ï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ posts/                  # æ–‡ç« ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PostCard.tsx       # æ–‡ç« å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ PostList.tsx       # æ–‡ç« åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ PostContent.tsx    # æ–‡ç« å†…å®¹
â”‚   â”‚   â””â”€â”€ PostMeta.tsx       # æ–‡ç« å…ƒä¿¡æ¯
â”‚   â”œâ”€â”€ categories/             # åˆ†ç±»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ CategoryList.tsx   # åˆ†ç±»åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ CategoryFilter.tsx  # åˆ†ç±»ç­›é€‰
â”‚   â”œâ”€â”€ tags/                   # æ ‡ç­¾ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TagList.tsx        # æ ‡ç­¾åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ TagCloud.tsx       # æ ‡ç­¾äº‘
â”‚   â”‚   â””â”€â”€ TagFilter.tsx      # æ ‡ç­¾ç­›é€‰
â”‚   â”œâ”€â”€ search/                 # æœç´¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SearchBar.tsx      # æœç´¢æ 
â”‚   â”œâ”€â”€ ads/                    # å¹¿å‘Šç»„ä»¶ï¼ˆé¢„ç•™ï¼‰
â”‚   â”‚   â””â”€â”€ AdSense.tsx        # Google AdSense
â”‚   â””â”€â”€ ui/                     # é€šç”¨ UI ç»„ä»¶
â”‚       â”œâ”€â”€ Button.tsx
â”‚       â”œâ”€â”€ Card.tsx
â”‚       â””â”€â”€ Loading.tsx
â”‚
â”œâ”€â”€ public/                      # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/                 # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ favicon.ico            # ç½‘ç«™å›¾æ ‡
â”‚
â”œâ”€â”€ scripts/                     # è‡ªåŠ¨åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ check-env.sh           # ç¯å¢ƒæ£€æŸ¥
â”‚   â”œâ”€â”€ create-post.sh         # åˆ›å»ºæ–°æ–‡ç« æ¨¡æ¿
â”‚   â””â”€â”€ export-all.sh          # æ‰¹é‡å¯¼å‡ºè„šæœ¬
â”‚
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ .eslintrc.json             # ESLint é…ç½®
â”œâ”€â”€ .prettierrc                # Prettier é…ç½®
â”œâ”€â”€ next.config.js             # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.js         # Tailwind é…ç½®
â”œâ”€â”€ tsconfig.json              # TypeScript é…ç½®
â”œâ”€â”€ package.json               # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â””â”€â”€ é¡¹ç›®è®¡åˆ’ä¹¦.md              # æœ¬æ–‡æ¡£
```

### 2.2 åˆ†ç±»ç³»ç»Ÿè®¾è®¡

#### åˆ†ç±»ç»“æ„
```typescript
// é¢„å®šä¹‰åˆ†ç±»
const CATEGORIES = {
  unity: {
    name: 'Unity å¼€å‘',
    slug: 'unity',
    description: 'Unity æ¸¸æˆå¼€å‘ç›¸å…³ç»éªŒ',
    icon: 'ğŸ®'
  },
  cocos: {
    name: 'Cocos å¼€å‘',
    slug: 'cocos',
    description: 'Cocos Creator å¼€å‘ç›¸å…³ç»éªŒ',
    icon: 'ğŸ¯'
  },
  notes: {
    name: 'ä¸ªäººæ‚è®°',
    slug: 'notes',
    description: 'æ—¥å¸¸å¼€å‘ä¸­çš„æ€è€ƒå’Œæ€»ç»“',
    icon: 'ğŸ“'
  }
}
```

#### Frontmatter æ ¼å¼
```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: "2024-01-01"
category: "unity"  # åˆ†ç±» slug
tags: ["Unity", "C#", "æ¸¸æˆå¼€å‘"]
description: "æ–‡ç« æè¿°ï¼Œç”¨äº SEO å’Œåˆ—è¡¨å±•ç¤º"
author: "ä½ çš„åå­—"  # å¯é€‰
featured: false    # æ˜¯å¦ç½®é¡¶
---
```

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šåˆ†é˜¶æ®µå®æ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ˆé¢„è®¡æ—¶é—´ï¼š30åˆ†é’Ÿï¼‰

#### æ­¥éª¤ 1.1: åˆ›å»º Next.js é¡¹ç›®

**è‡ªåŠ¨åŒ–å‘½ä»¤**:
```bash
# ä½¿ç”¨ create-next-app åˆ›å»ºé¡¹ç›®
npx create-next-app@latest . --typescript --tailwind --app --no-src-dir --import-alias "@/*"

# æˆ–è€…æ‰‹åŠ¨åˆ›å»º
npm init -y
npm install next@latest react@latest react-dom@latest
npm install -D typescript @types/react @types/node @types/react-dom
```

**é…ç½®æ–‡ä»¶**:
- `tsconfig.json`: TypeScript é…ç½®
- `next.config.js`: Next.js é…ç½®
- `tailwind.config.js`: Tailwind CSS é…ç½®

**æ–‡æ¡£é“¾æ¥**:
- Next.js å®‰è£…: https://nextjs.org/docs/getting-started/installation
- TypeScript é…ç½®: https://nextjs.org/docs/app/building-your-application/configuring/typescript
- Tailwind CSS: https://tailwindcss.com/docs/guides/nextjs

#### æ­¥éª¤ 1.2: å®‰è£…æ ¸å¿ƒä¾èµ–

**ä¾èµ–åŒ…åˆ—è¡¨**:
```json
{
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "@next/mdx": "^14.0.0",
    "@mdx-js/loader": "^3.0.0",
    "@mdx-js/react": "^3.0.0",
    "gray-matter": "^4.0.3",
    "remark": "^15.0.0",
    "remark-gfm": "^4.0.0",
    "rehype": "^13.0.0",
    "rehype-slug": "^6.0.0",
    "rehype-autolink-headings": "^7.0.0",
    "shiki": "^1.0.0",
    "date-fns": "^3.0.0",
    "jszip": "^3.10.0"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/react-dom": "^18.0.0",
    "typescript": "^5.0.0",
    "tailwindcss": "^3.4.0",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0",
    "eslint": "^8.0.0",
    "eslint-config-next": "^14.0.0"
  }
}
```

**å®‰è£…å‘½ä»¤**:
```bash
npm install next react react-dom @next/mdx @mdx-js/loader @mdx-js/react gray-matter remark remark-gfm rehype rehype-slug rehype-autolink-headings shiki date-fns jszip

npm install -D @types/node @types/react @types/react-dom typescript tailwindcss autoprefixer postcss eslint eslint-config-next
```

**æ–‡æ¡£é“¾æ¥**:
- MDX é…ç½®: https://nextjs.org/docs/app/building-your-application/configuring/mdx
- Shiki ä»£ç é«˜äº®: https://shiki.matsu.io/

#### æ­¥éª¤ 1.3: é…ç½® MDX

**next.config.js**:
```javascript
const withMDX = require('@next/mdx')({
  extension: /\.mdx?$/,
  options: {
    remarkPlugins: [require('remark-gfm')],
    rehypePlugins: [
      require('rehype-slug'),
      [require('rehype-autolink-headings'), { behavior: 'wrap' }],
    ],
  },
})

module.exports = withMDX({
  pageExtensions: ['ts', 'tsx', 'mdx'],
})
```

#### æ­¥éª¤ 1.4: åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„

**è‡ªåŠ¨åŒ–è„šæœ¬**: `scripts/init-structure.sh`
```bash
#!/bin/bash
mkdir -p app/{posts,tags,categories,search,export}
mkdir -p content/posts/{unity,cocos,notes}
mkdir -p lib components/{layout,posts,categories,tags,search,ads,ui}
mkdir -p public/images scripts
echo "ç›®å½•ç»“æ„åˆ›å»ºå®Œæˆï¼"
```

### é˜¶æ®µäºŒï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆé¢„è®¡æ—¶é—´ï¼š2-3å°æ—¶ï¼‰

#### æ­¥éª¤ 2.1: å®ç°æ–‡ç« è¯»å–å’Œå¤„ç†

**æ–‡ä»¶**: `lib/posts.ts`

**åŠŸèƒ½**:
- è¯»å– `content/posts` ç›®å½•ä¸‹çš„æ‰€æœ‰ MDX æ–‡ä»¶
- è§£æ Frontmatter
- æŒ‰æ—¥æœŸæ’åº
- æ”¯æŒæŒ‰åˆ†ç±»ã€æ ‡ç­¾ç­›é€‰

**å…³é”®ä»£ç ç»“æ„**:
```typescript
export interface Post {
  slug: string
  title: string
  date: string
  category: string
  tags: string[]
  description: string
  content: string
  readingTime: number
}

export function getAllPosts(): Post[]
export function getPostBySlug(slug: string): Post | null
export function getPostsByCategory(category: string): Post[]
export function getPostsByTag(tag: string): Post[]
```

**æ–‡æ¡£é“¾æ¥**:
- Node.js æ–‡ä»¶ç³»ç»Ÿ: https://nodejs.org/api/fs.html
- gray-matter: https://github.com/jonschlinkert/gray-matter

#### æ­¥éª¤ 2.2: åˆ›å»ºæ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…é¡µ

**æ–‡ä»¶**: 
- `app/posts/page.tsx`: æ–‡ç« åˆ—è¡¨
- `app/posts/[slug]/page.tsx`: æ–‡ç« è¯¦æƒ…

**åŠŸèƒ½**:
- æ˜¾ç¤ºæ‰€æœ‰æ–‡ç« ï¼ˆåˆ†é¡µå¯é€‰ï¼‰
- æ˜¾ç¤ºæ–‡ç« è¯¦æƒ…ï¼ˆåŒ…å«ä»£ç é«˜äº®ï¼‰
- ç›¸å…³æ–‡ç« æ¨è

#### æ­¥éª¤ 2.3: å®ç°åˆ†ç±»ç³»ç»Ÿ

**æ–‡ä»¶**: 
- `lib/categories.ts`: åˆ†ç±»å¤„ç†é€»è¾‘
- `app/categories/page.tsx`: åˆ†ç±»åˆ—è¡¨é¡µ
- `app/categories/[category]/page.tsx`: åˆ†ç±»è¯¦æƒ…é¡µ

**åŠŸèƒ½**:
- è‡ªåŠ¨æå–æ‰€æœ‰åˆ†ç±»
- æ˜¾ç¤ºæ¯ä¸ªåˆ†ç±»çš„æ–‡ç« æ•°é‡
- æŒ‰åˆ†ç±»ç­›é€‰æ–‡ç« 

#### æ­¥éª¤ 2.4: å®ç°æ ‡ç­¾ç³»ç»Ÿ

**æ–‡ä»¶**: 
- `lib/tags.ts`: æ ‡ç­¾å¤„ç†é€»è¾‘
- `app/tags/page.tsx`: æ ‡ç­¾åˆ—è¡¨é¡µ
- `app/tags/[tag]/page.tsx`: æ ‡ç­¾è¯¦æƒ…é¡µ

**åŠŸèƒ½**:
- è‡ªåŠ¨æå–æ‰€æœ‰æ ‡ç­¾
- æ ‡ç­¾äº‘æ˜¾ç¤º
- æŒ‰æ ‡ç­¾ç­›é€‰æ–‡ç« 

#### æ­¥éª¤ 2.5: é…ç½®ä»£ç é«˜äº®

**ä½¿ç”¨ Shiki**:
```typescript
import { codeToHtml } from 'shiki'

const html = await codeToHtml(code, {
  lang: 'typescript',
  theme: 'github-dark'
})
```

**æ–‡æ¡£é“¾æ¥**:
- Shiki: https://shiki.matsu.io/

### é˜¶æ®µä¸‰ï¼šUI å’Œä½“éªŒä¼˜åŒ–ï¼ˆé¢„è®¡æ—¶é—´ï¼š2-3å°æ—¶ï¼‰

#### æ­¥éª¤ 3.1: è®¾è®¡é¦–é¡µå¸ƒå±€

**æ–‡ä»¶**: `app/page.tsx`

**åŠŸèƒ½**:
- æœ€æ–°æ–‡ç« å±•ç¤º
- åˆ†ç±»å¯¼èˆª
- æ ‡ç­¾äº‘
- æœç´¢å…¥å£

#### æ­¥éª¤ 3.2: å®ç°å“åº”å¼è®¾è®¡

**ä½¿ç”¨ Tailwind CSS**:
- ç§»åŠ¨ç«¯ä¼˜å…ˆè®¾è®¡
- æ–­ç‚¹: sm, md, lg, xl
- å¯¼èˆªæ ç§»åŠ¨ç«¯æŠ˜å 

**æ–‡æ¡£é“¾æ¥**:
- Tailwind å“åº”å¼: https://tailwindcss.com/docs/responsive-design

#### æ­¥éª¤ 3.3: æ·»åŠ æœç´¢åŠŸèƒ½

**æ–‡ä»¶**: 
- `components/search/SearchBar.tsx`
- `app/search/page.tsx`

**åŠŸèƒ½**:
- å®¢æˆ·ç«¯å®æ—¶æœç´¢
- æœç´¢æ ‡é¢˜å’Œå†…å®¹
- é«˜äº®æœç´¢ç»“æœ

**å®ç°æ–¹å¼**:
- ä½¿ç”¨ Fuse.jsï¼ˆå¯é€‰ï¼‰æˆ–è‡ªå®šä¹‰æœç´¢é€»è¾‘
- å®¢æˆ·ç«¯ç´¢å¼•æ‰€æœ‰æ–‡ç« 

#### æ­¥éª¤ 3.4: ä¼˜åŒ–æ ·å¼å’Œäº¤äº’

- æ·»åŠ åŠ è½½åŠ¨ç”»
- ä¼˜åŒ–æ–‡ç« é˜…è¯»ä½“éªŒ
- æ·»åŠ è¿”å›é¡¶éƒ¨æŒ‰é’®
- ä¼˜åŒ–ä»£ç å—æ ·å¼

### é˜¶æ®µå››ï¼šMarkdown å¯¼å‡ºåŠŸèƒ½ï¼ˆé¢„è®¡æ—¶é—´ï¼š1-2å°æ—¶ï¼‰

#### æ­¥éª¤ 4.1: å®ç°å•ç¯‡å¯¼å‡º

**æ–‡ä»¶**: `lib/export.ts`

**åŠŸèƒ½**:
- å»é™¤ Frontmatter
- ä¿ç•™çº¯ Markdown å†…å®¹
- å¤„ç†å›¾ç‰‡é“¾æ¥

**API è·¯ç”±**: `app/export/route.ts`
```typescript
export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const slug = searchParams.get('slug')
  // è¿”å› Markdown å†…å®¹
}
```

#### æ­¥éª¤ 4.2: å®ç°æ‰¹é‡å¯¼å‡º

**åŠŸèƒ½**:
- å¯¼å‡ºæ‰€æœ‰æ–‡ç« ä¸º ZIP
- æŒ‰åˆ†ç±»ç»„ç»‡æ–‡ä»¶
- åŒ…å«å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰

#### æ­¥éª¤ 4.3: å›¾ç‰‡å¤„ç†

- æå–æ–‡ç« ä¸­çš„å›¾ç‰‡é“¾æ¥
- æ”¯æŒæ›¿æ¢ä¸ºå›¾åºŠé“¾æ¥
- ç”Ÿæˆå›¾ç‰‡æ¸…å•

### é˜¶æ®µäº”ï¼šç¤ºä¾‹å†…å®¹å’Œæµ‹è¯•ï¼ˆé¢„è®¡æ—¶é—´ï¼š1å°æ—¶ï¼‰

#### æ­¥éª¤ 5.1: åˆ›å»ºç¤ºä¾‹æ–‡ç« 

**åˆ›å»ºè„šæœ¬**: `scripts/create-post.sh`
```bash
#!/bin/bash
# ç”¨æ³•: ./scripts/create-post.sh "æ–‡ç« æ ‡é¢˜" "unity"

TITLE=$1
CATEGORY=${2:-notes}
SLUG=$(echo "$TITLE" | tr '[:upper:]' '[:lower:]' | tr ' ' '-')
DATE=$(date +%Y-%m-%d)

cat > "content/posts/$CATEGORY/$SLUG.mdx" << EOF
---
title: "$TITLE"
date: "$DATE"
category: "$CATEGORY"
tags: []
description: ""
---

# $TITLE

æ–‡ç« å†…å®¹...
EOF

echo "æ–‡ç« åˆ›å»ºæˆåŠŸ: content/posts/$CATEGORY/$SLUG.mdx"
```

#### æ­¥éª¤ 5.2: æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

- æµ‹è¯•æ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…
- æµ‹è¯•åˆ†ç±»å’Œæ ‡ç­¾ç­›é€‰
- æµ‹è¯•æœç´¢åŠŸèƒ½
- æµ‹è¯•å¯¼å‡ºåŠŸèƒ½
- æµ‹è¯•å“åº”å¼è®¾è®¡

### é˜¶æ®µå…­ï¼šSEO ä¼˜åŒ–å’Œå¹¿å‘Šé¢„ç•™ï¼ˆé¢„è®¡æ—¶é—´ï¼š1å°æ—¶ï¼‰

#### æ­¥éª¤ 6.1: SEO ä¼˜åŒ–

**æ–‡ä»¶**: `app/layout.tsx`

**åŠŸèƒ½**:
- æ·»åŠ  meta æ ‡ç­¾
- æ·»åŠ  Open Graph æ ‡ç­¾
- æ·»åŠ ç»“æ„åŒ–æ•°æ®ï¼ˆJSON-LDï¼‰
- ç”Ÿæˆ sitemap.xml
- ç”Ÿæˆ robots.txt

**æ–‡æ¡£é“¾æ¥**:
- Next.js SEO: https://nextjs.org/docs/app/building-your-application/optimizing/metadata
- Open Graph: https://ogp.me/

#### æ­¥éª¤ 6.2: å¹¿å‘Šä½é¢„ç•™

**æ–‡ä»¶**: `components/ads/AdSense.tsx`

**åŠŸèƒ½**:
- Google AdSense ç»„ä»¶ï¼ˆé¢„ç•™ï¼‰
- å¹¿å‘Šä½é…ç½®
- å“åº”å¼å¹¿å‘Š

**æ–‡æ¡£é“¾æ¥**:
- Google AdSense: https://www.google.com/adsense/
- Next.js å¹¿å‘Šé›†æˆ: https://nextjs.org/docs/app/building-your-application/optimizing/third-party-libraries

---

## ç¬¬å››éƒ¨åˆ†ï¼šéƒ¨ç½²æŒ‡å—

### 4.1 Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1: å‡†å¤‡ GitHub ä»“åº“

```bash
# åˆå§‹åŒ– Git
git init
git add .
git commit -m "Initial commit"

# åˆ›å»º GitHub ä»“åº“å
git remote add origin https://github.com/yourusername/MyBlog.git
git push -u origin main
```

#### æ­¥éª¤ 2: è¿æ¥ Vercel

1. è®¿é—® https://vercel.com
2. ä½¿ç”¨ GitHub è´¦å·ç™»å½•
3. ç‚¹å‡» "New Project"
4. é€‰æ‹©ä½ çš„ GitHub ä»“åº“
5. é…ç½®é¡¹ç›®:
   - Framework Preset: Next.js
   - Root Directory: ./
   - Build Command: `npm run build`
   - Output Directory: `.next`
6. ç‚¹å‡» "Deploy"

#### æ­¥éª¤ 3: ç¯å¢ƒå˜é‡ï¼ˆå¦‚éœ€è¦ï¼‰

åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡:
- `NEXT_PUBLIC_ADSENSE_ID` (å¦‚æœä½¿ç”¨ AdSense)

#### æ­¥éª¤ 4: è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

1. åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ åŸŸå
2. æŒ‰ç…§æç¤ºé…ç½® DNS

**æ–‡æ¡£é“¾æ¥**:
- Vercel éƒ¨ç½²: https://vercel.com/docs
- è‡ªå®šä¹‰åŸŸå: https://vercel.com/docs/concepts/projects/domains

### 4.2 Netlify éƒ¨ç½²ï¼ˆå¤‡é€‰ï¼‰

#### æ­¥éª¤ 1: åˆ›å»º netlify.toml

```toml
[build]
  command = "npm run build"
  publish = ".next"

[[plugins]]
  package = "@netlify/plugin-nextjs"
```

#### æ­¥éª¤ 2: è¿æ¥ Netlify

1. è®¿é—® https://app.netlify.com
2. ä½¿ç”¨ GitHub è´¦å·ç™»å½•
3. ç‚¹å‡» "New site from Git"
4. é€‰æ‹©ä»“åº“å¹¶éƒ¨ç½²

**æ–‡æ¡£é“¾æ¥**:
- Netlify éƒ¨ç½²: https://docs.netlify.com/

### 4.3 GitHub Pages éƒ¨ç½²ï¼ˆå¤‡é€‰ï¼‰

#### æ­¥éª¤ 1: é…ç½®é™æ€å¯¼å‡º

**next.config.js**:
```javascript
module.exports = {
  output: 'export',
  images: {
    unoptimized: true
  }
}
```

#### æ­¥éª¤ 2: é…ç½® GitHub Actions

åˆ›å»º `.github/workflows/deploy.yml`:
```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm install
      - run: npm run build
      - uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./out
```

**æ–‡æ¡£é“¾æ¥**:
- GitHub Pages: https://pages.github.com/
- GitHub Actions: https://docs.github.com/en/actions

---

## ç¬¬äº”éƒ¨åˆ†ï¼šè‡ªåŠ¨åŒ–è„šæœ¬

### 5.1 åˆ›å»ºæ–°æ–‡ç« è„šæœ¬

**æ–‡ä»¶**: `scripts/create-post.sh`

```bash
#!/bin/bash

if [ -z "$1" ]; then
  echo "ç”¨æ³•: ./scripts/create-post.sh \"æ–‡ç« æ ‡é¢˜\" [åˆ†ç±»]"
  exit 1
fi

TITLE=$1
CATEGORY=${2:-notes}
SLUG=$(echo "$TITLE" | tr '[:upper:]' '[:lower:]' | sed 's/[^a-z0-9]/-/g' | sed 's/--*/-/g' | sed 's/^-\|-$//g')
DATE=$(date +%Y-%m-%d)
FILE="content/posts/$CATEGORY/$SLUG.mdx"

if [ -f "$FILE" ]; then
  echo "é”™è¯¯: æ–‡ä»¶å·²å­˜åœ¨ $FILE"
  exit 1
fi

mkdir -p "content/posts/$CATEGORY"

cat > "$FILE" << EOF
---
title: "$TITLE"
date: "$DATE"
category: "$CATEGORY"
tags: []
description: ""
featured: false
---

# $TITLE

## æ¦‚è¿°

æ–‡ç« å†…å®¹...

## è¯¦ç»†å†…å®¹

EOF

echo "âœ… æ–‡ç« åˆ›å»ºæˆåŠŸ: $FILE"
echo "ğŸ“ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¾‘: code $FILE"
```

**ä½¿ç”¨æ–¹å¼**:
```bash
chmod +x scripts/create-post.sh
./scripts/create-post.sh "Unity åŸºç¡€æ•™ç¨‹" unity
```

### 5.2 æ‰¹é‡å¯¼å‡ºè„šæœ¬

**æ–‡ä»¶**: `scripts/export-all.sh`

```bash
#!/bin/bash

OUTPUT_DIR="exports/$(date +%Y%m%d_%H%M%S)"
mkdir -p "$OUTPUT_DIR"

# å¯¼å‡ºæ‰€æœ‰æ–‡ç« 
find content/posts -name "*.mdx" | while read file; do
  # æå–åˆ†ç±»å’Œæ–‡ä»¶å
  category=$(echo "$file" | cut -d'/' -f3)
  filename=$(basename "$file")
  
  # åˆ›å»ºåˆ†ç±»ç›®å½•
  mkdir -p "$OUTPUT_DIR/$category"
  
  # å»é™¤ Frontmatterï¼Œä¿ç•™å†…å®¹
  sed '/^---$/,/^---$/d' "$file" > "$OUTPUT_DIR/$category/$filename"
done

echo "âœ… å¯¼å‡ºå®Œæˆ: $OUTPUT_DIR"
```

### 5.3 ç¯å¢ƒæ£€æŸ¥è„šæœ¬

**æ–‡ä»¶**: `scripts/check-env.sh`

```bash
#!/bin/bash

echo "ğŸ” æ£€æŸ¥å¼€å‘ç¯å¢ƒ..."
echo ""

# æ£€æŸ¥ Node.js
if command -v node &> /dev/null; then
  echo "âœ… Node.js: $(node --version)"
else
  echo "âŒ Node.js: æœªå®‰è£…"
  echo "   ä¸‹è½½: https://nodejs.org/"
fi

# æ£€æŸ¥ npm
if command -v npm &> /dev/null; then
  echo "âœ… npm: $(npm --version)"
else
  echo "âŒ npm: æœªå®‰è£…"
fi

# æ£€æŸ¥ Git
if command -v git &> /dev/null; then
  echo "âœ… Git: $(git --version)"
else
  echo "âŒ Git: æœªå®‰è£…"
  echo "   ä¸‹è½½: https://git-scm.com/"
fi

echo ""
echo "æ£€æŸ¥å®Œæˆï¼"
```

---

## ç¬¬å…­éƒ¨åˆ†ï¼šç»´æŠ¤å’Œæ‰©å±•

### 6.1 æ—¥å¸¸ä½¿ç”¨æµç¨‹

1. **åˆ›å»ºæ–°æ–‡ç« **:
   ```bash
   ./scripts/create-post.sh "æ–‡ç« æ ‡é¢˜" unity
   ```

2. **æœ¬åœ°é¢„è§ˆ**:
   ```bash
   npm run dev
   # è®¿é—® http://localhost:3000
   ```

3. **æ„å»ºæµ‹è¯•**:
   ```bash
   npm run build
   npm run start
   ```

4. **æäº¤æ›´æ”¹**:
   ```bash
   git add .
   git commit -m "æ·»åŠ æ–°æ–‡ç« : æ–‡ç« æ ‡é¢˜"
   git push
   ```

5. **è‡ªåŠ¨éƒ¨ç½²**: Vercel ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶éƒ¨ç½²

### 6.2 å†…å®¹ç®¡ç†å»ºè®®

- **æ–‡ä»¶å‘½å**: ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼Œå¦‚ `unity-basics.mdx`
- **åˆ†ç±»ç®¡ç†**: åœ¨ `content/posts` ä¸‹æŒ‰åˆ†ç±»åˆ›å»ºå­ç›®å½•
- **å›¾ç‰‡ç®¡ç†**: ä½¿ç”¨å›¾åºŠï¼ˆGitHubã€ä¸ƒç‰›äº‘ç­‰ï¼‰å­˜å‚¨å›¾ç‰‡
- **ç‰ˆæœ¬æ§åˆ¶**: æ‰€æœ‰ Markdown æ–‡ä»¶çº³å…¥ Git ç®¡ç†

### 6.3 æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ Next.js Image ç»„ä»¶ä¼˜åŒ–å›¾ç‰‡
- å®ç°æ–‡ç« åˆ—è¡¨åˆ†é¡µ
- ä½¿ç”¨é™æ€ç”Ÿæˆï¼ˆSSGï¼‰æå‡æ€§èƒ½
- æ·»åŠ ç¼“å­˜ç­–ç•¥

### 6.4 åç»­æ‰©å±•åŠŸèƒ½

- [ ] è¯„è®ºç³»ç»Ÿï¼ˆGiscusã€Utterancesï¼‰
- [ ] RSS è®¢é˜…
- [ ] æš—è‰²æ¨¡å¼åˆ‡æ¢
- [ ] æ–‡ç« é˜…è¯»æ—¶é—´ä¼°ç®—
- [ ] ç›¸å…³æ–‡ç« æ¨è
- [ ] æ–‡ç« ç»Ÿè®¡ï¼ˆè®¿é—®é‡ç­‰ï¼‰
- [ ] å¤šè¯­è¨€æ”¯æŒ

---

## ç¬¬ä¸ƒéƒ¨åˆ†ï¼šå¸¸è§é—®é¢˜

### Q1: å¦‚ä½•æ·»åŠ æ–°åˆ†ç±»ï¼Ÿ

åœ¨ `lib/categories.ts` ä¸­æ·»åŠ æ–°åˆ†ç±»å®šä¹‰ï¼Œç„¶ååœ¨ `content/posts` ä¸‹åˆ›å»ºå¯¹åº”ç›®å½•ã€‚

### Q2: å¦‚ä½•é…ç½® Google AdSenseï¼Ÿ

1. ç”³è¯· AdSense è´¦å·
2. è·å–å¹¿å‘Š ID
3. åœ¨ `components/ads/AdSense.tsx` ä¸­é…ç½®
4. åœ¨å¸ƒå±€ä¸­æ·»åŠ å¹¿å‘Šç»„ä»¶

### Q3: å¦‚ä½•å¤‡ä»½å†…å®¹ï¼Ÿ

æ‰€æœ‰ Markdown æ–‡ä»¶éƒ½åœ¨ `content/posts` ç›®å½•ï¼Œå®šæœŸæäº¤åˆ° Git å³å¯ã€‚

### Q4: å¦‚ä½•è¿ç§»åˆ°å…¶ä»–å¹³å°ï¼Ÿ

ä½¿ç”¨å¯¼å‡ºåŠŸèƒ½ï¼Œå°† Markdown æ–‡ä»¶å¯¼å‡ºåï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¹³å°ç¼–è¾‘å™¨å³å¯ã€‚

---

## é™„å½•

### A. å‚è€ƒæ–‡æ¡£

- Next.js å®˜æ–¹æ–‡æ¡£: https://nextjs.org/docs
- TypeScript æ–‡æ¡£: https://www.typescriptlang.org/docs/
- Tailwind CSS æ–‡æ¡£: https://tailwindcss.com/docs
- MDX æ–‡æ¡£: https://mdxjs.com/
- Vercel æ–‡æ¡£: https://vercel.com/docs

### B. æ¨èèµ„æº

- Next.js å­¦ä¹ : https://nextjs.org/learn
- React æ–‡æ¡£: https://react.dev/
- Markdown è¯­æ³•: https://www.markdownguide.org/

### C. æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹ç›¸å…³æ–‡æ¡£
2. æœç´¢ GitHub Issues
3. æŸ¥çœ‹ Next.js ç¤¾åŒº: https://nextjs.org/discord

---

**è®¡åˆ’ä¹¦ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024-01-01  
**ç»´æŠ¤è€…**: ä½ çš„åå­—
